(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{475:function(a,s,t){"use strict";t.r(s);var n=t(28),e=Object(n.a)({},(function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"crontabs定时任务"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#crontabs定时任务"}},[a._v("#")]),a._v(" crontabs定时任务")]),a._v(" "),t("p",[a._v("安装 crontabs服务")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v("yum install crontabs\n")])])]),t("p",[a._v("开机自启")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v("systemctl enable crond\n")])])]),a._v(" "),t("p",[a._v("启动停止命令")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v("systemctl start crond\nsystemctl stop crond\n")])])]),t("p",[a._v("设置用户自定义定时任务：")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v("vim /etc/crontab\n")])])]),t("div",{staticClass:"language-text line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("# Example of job definition:# \n.---------------- minute (0 - 59)\n# |  .------------- hour (0 - 23)\n# |  |  .---------- day of month (1 - 31)\n# |  |  |  .------- month (1 - 12) OR jan,feb,mar,apr ...\n# |  |  |  |  .---- day of week (0 - 6) (Sunday=0 or 7) OR sun,mon,tue,wed,thu,fri,sat\n# |  |  |  |  |# *  *  *  *  * user-name  command to be executed\n\n分钟(0-59) 小时(0-23) 日(1-31) 月(11-12) 星期(0-6,0表示周日) 用户名 要执行的命令\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br"),t("span",{staticClass:"line-number"},[a._v("8")]),t("br"),t("span",{staticClass:"line-number"},[a._v("9")]),t("br")])]),t("p",[a._v("定时执行scrapy crawl 任务（这个特殊）")]),a._v(" "),t("blockquote",[t("p",[a._v("查看命令的文件路径：type -p scrapy")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v("00 00 * * * 用户 cd /对应的爬虫项目下/ && /root/anaconda3/bin/scrapy crawl xxx\n")])])]),t("p",[a._v("我的项目是：")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v("00 00 * * * root cd /home/scrapy_project && /root/anaconda3/bin/scrapy crawl stock\n")])])]),t("p",[t("strong",[a._v("保存生效")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v("#加载任务,使之生效\ncrontab /etc/crontab\n\n#查看任务\ncrontab -l\n")])])]),t("p",[a._v("crontab日志")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v("tail -n 15 /var/log/cron  \n")])])])])}),[],!1,null,null,null);s.default=e.exports}}]);